const fs = require('fs');

exports = function(str) {
    try {
        let blocks = str.match(/<script[^>]*>([\s\S]+?)<\/script>/gi);
        let tags = str.match(/<script\b[^>]*>(.*?)<\/script>/gm);

        blocks.forEach(function(code) {
            code = code.replace('<script>', '').replace('</script>', '');
            EXOKIT.evaluate(code);
        });

        tags.forEach(function(tag) {
            let path = tag.split('src="')[1].split('"')[0];
            let code = fs.readFileSync(EXOKIT.rootPath + path);
            EXOKIT.evaluate(code);
        });
    } catch(e) {
        
    }
}
